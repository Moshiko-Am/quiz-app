{"version":3,"sources":["context.js","SetupForm.js","Loading.js","Modal.js","App.js","index.js"],"names":["table","sports","history","politics","AppContext","React","createContext","AppProvider","children","useState","waiting","setWaiting","loading","setLoading","questions","setQuestions","index","setIndex","correct","setCorrect","error","setError","isModalOpen","setIsModalOpen","amount","category","difficulty","quiz","setQuiz","fetchQuestions","url","a","axios","catch","console","log","response","data","results","length","nextQuestion","oldIndex","openModal","useEffect","Provider","value","checkAnswer","oldState","closeModal","handleChange","e","name","target","handleSubmit","preventDefault","useGlobalContext","useContext","SetupForm","className","htmlFor","type","id","onChange","min","max","onClick","Loading","Modal","toFixed","App","question","incorrect_answers","correct_answer","answers","tempIndex","Math","floor","random","push","dangerouslySetInnerHTML","__html","map","answer","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5cb322ed.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useContext, useEffect } from 'react';\r\n\r\nconst table = {\r\n\tsports: 21,\r\n\thistory: 23,\r\n\tpolitics: 24,\r\n};\r\n\r\nconst API_ENDPOINT = 'https://opentdb.com/api.php?';\r\n\r\nconst url = '';\r\n\r\nconst tempUrl =\r\n\t'https://opentdb.com/api.php?amount=10&category=21&difficulty=easy&type=multiple';\r\n\r\nconst AppContext = React.createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n\tconst [waiting, setWaiting] = useState(true);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [questions, setQuestions] = useState([]);\r\n\tconst [index, setIndex] = useState(0);\r\n\tconst [correct, setCorrect] = useState(0);\r\n\tconst [error, setError] = useState(false);\r\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\r\n\tconst [quiz, setQuiz] = useState({\r\n\t\tamount: 10,\r\n\t\tcategory: 'sports',\r\n\t\tdifficulty: 'easy',\r\n\t});\r\n\r\n\tconst fetchQuestions = async (url) => {\r\n\t\tsetLoading(true);\r\n\t\tsetWaiting(false);\r\n\t\tconst response = await axios(url).catch((error) => console.log(error));\r\n\t\tif (response) {\r\n\t\t\tconst data = response.data.results;\r\n\t\t\tif (data.length > 0) {\r\n\t\t\t\tsetQuestions(data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetWaiting(false);\r\n\t\t\t\tsetError(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetWaiting(true);\r\n\t\t\t\tsetError(true);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetWaiting(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst nextQuestion = () => {\r\n\t\tsetIndex((oldIndex) => {\r\n\t\t\tconst index = oldIndex + 1;\r\n\t\t\tif (index > questions.length - 1) {\r\n\t\t\t\topenModal();\r\n\t\t\t\treturn 0;\r\n\t\t\t} else {\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst checkAnswer = (value) => {\r\n\t\tif (value) {\r\n\t\t\tsetCorrect((oldState) => oldState + 1);\r\n\t\t}\r\n\t\tnextQuestion();\r\n\t};\r\n\r\n\tconst openModal = () => {\r\n\t\tsetIsModalOpen(true);\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetWaiting(true);\r\n\t\tsetCorrect(0);\r\n\t\tsetIsModalOpen(false);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst { amount, category, difficulty } = quiz;\r\n\t\tconst url = `${API_ENDPOINT}amount=${amount}&difficulty=${difficulty}&category=${table[category]}&type=multiple`;\r\n\t\tfetchQuestions(url);\r\n\t};\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tconst name = e.target.name;\r\n\t\tconst value = e.target.value;\r\n\t\tsetQuiz({ ...quiz, [name]: value });\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchQuestions(tempUrl);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<AppContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\twaiting,\r\n\t\t\t\tloading,\r\n\t\t\t\tquestions,\r\n\t\t\t\tindex,\r\n\t\t\t\tcorrect,\r\n\t\t\t\terror,\r\n\t\t\t\tisModalOpen,\r\n\t\t\t\tnextQuestion,\r\n\t\t\t\tcheckAnswer,\r\n\t\t\t\tcloseModal,\r\n\t\t\t\tquiz,\r\n\t\t\t\thandleChange,\r\n\t\t\t\thandleSubmit,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AppContext.Provider>\r\n\t);\r\n};\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n\treturn useContext(AppContext);\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\n","import React from 'react';\r\nimport { useGlobalContext } from './context';\r\n\r\nconst SetupForm = () => {\r\n\tconst { quiz, handleChange, handleSubmit, error } = useGlobalContext();\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t<section className=\"quiz quiz-small\">\r\n\t\t\t\t<form className=\"setup-form\">\r\n\t\t\t\t\t<h2>setup quiz</h2>\r\n\t\t\t\t\t<div className=\"form-control\">\r\n\t\t\t\t\t\t<label htmlFor=\"amount\">number of questions</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"amount\"\r\n\t\t\t\t\t\t\tid=\"amount\"\r\n\t\t\t\t\t\t\tvalue={quiz.amount}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tclassName=\"form-input\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={50}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-control\">\r\n\t\t\t\t\t\t<label htmlFor=\"category\">category</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname=\"category\"\r\n\t\t\t\t\t\t\tid=\"category\"\r\n\t\t\t\t\t\t\tclassName=\"form-input\"\r\n\t\t\t\t\t\t\tvalue={quiz.category}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"sports\">sports</option>\r\n\t\t\t\t\t\t\t<option value=\"history\">history</option>\r\n\t\t\t\t\t\t\t<option value=\"politics\">politics</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-control\">\r\n\t\t\t\t\t\t<label htmlFor=\"difficulty\">select difficulty</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname=\"difficulty\"\r\n\t\t\t\t\t\t\tid=\"difficulty\"\r\n\t\t\t\t\t\t\tclassName=\"form-input\"\r\n\t\t\t\t\t\t\tvalue={quiz.difficulty}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"easy\">easy</option>\r\n\t\t\t\t\t\t\t<option value=\"medium\">medium</option>\r\n\t\t\t\t\t\t\t<option value=\"hard\">hard</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t<p className=\"error\">\r\n\t\t\t\t\t\t\tcan't generate questions, please try different\r\n\t\t\t\t\t\t\toptions\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\tclassName=\"submit-btn\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tstart\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n};\r\n\r\nexport default SetupForm;\r\n","import React from 'react'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <main>\r\n      <div className='loading'></div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react';\r\nimport { useGlobalContext } from './context';\r\n\r\nconst Modal = () => {\r\n\tconst { isModalOpen, closeModal, correct, questions } = useGlobalContext();\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`${\r\n\t\t\t\tisModalOpen ? 'modal-container isOpen' : 'modal-container'\r\n\t\t\t}`}\r\n\t\t>\r\n\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t<h2>congrats!</h2>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tYou answered{' '}\r\n\t\t\t\t\t{((correct / questions.length) * 100).toFixed(0)}% of\r\n\t\t\t\t\tquestions correctly\r\n\t\t\t\t</p>\r\n\t\t\t\t<button className=\"close-btn\" onClick={closeModal}>\r\n\t\t\t\t\tplay again\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport { useGlobalContext } from './context';\r\n\r\nimport SetupForm from './SetupForm';\r\nimport Loading from './Loading';\r\nimport Modal from './Modal';\r\nfunction App() {\r\n\tconst {\r\n\t\twaiting,\r\n\t\tloading,\r\n\t\tquestions,\r\n\t\tindex,\r\n\t\tcorrect,\r\n\t\tnextQuestion,\r\n\t\tcheckAnswer,\r\n\t} = useGlobalContext();\r\n\r\n\tif (waiting) {\r\n\t\treturn <SetupForm />;\r\n\t}\r\n\r\n\tif (loading) {\r\n\t\treturn <Loading />;\r\n\t}\r\n\tconst { question, incorrect_answers, correct_answer } = questions[index];\r\n\t// const answers = [...incorrect_answers, correct_answer];\r\n\tlet answers = [...incorrect_answers];\r\n\tconst tempIndex = Math.floor(Math.random() * 4);\r\n\tif (tempIndex === 3) {\r\n\t\tanswers.push(correct_answer);\r\n\t} else {\r\n\t\tanswers.push(answers[tempIndex]);\r\n\t\tanswers[tempIndex] = correct_answer;\r\n\t}\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t<Modal />\r\n\t\t\t<section className=\"quiz\">\r\n\t\t\t\t<p className=\"correct-answers\">\r\n\t\t\t\t\tcorrect answers : {correct}/{index}\r\n\t\t\t\t</p>\r\n\t\t\t\t<article className=\"container\">\r\n\t\t\t\t\t<h2 dangerouslySetInnerHTML={{ __html: question }} />\r\n\t\t\t\t\t<div className=\"btn-container\">\r\n\t\t\t\t\t\t{answers.map((answer, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tclassName=\"answer-btn\"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: answer }}\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tcheckAnswer(correct_answer === answer)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</article>\r\n\t\t\t\t<button className=\"next-question\" onClick={nextQuestion}>\r\n\t\t\t\t\tnext question\r\n\t\t\t\t</button>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport { AppProvider } from './context'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}